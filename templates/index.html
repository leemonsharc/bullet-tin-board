<!DOCTYPE HTML>
<html>

<head>
    <title>Bullet-Tin Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css' )}}">
</head>

<body>
    <div class="button-container" position: absolute; bottom: 0;>
        <button class="window-button" onclick="OpenWindow('window', this)">Terminal</button>
        <button onclick="OpenWindow('fileExplorer', this)" class="window-button">File Explorer</button>
    </div>

<audio id="a" autoplay loop style ="display:none;">
  <source src="{{ url_for('static', filename='Good Kid - Alchemist (8-bit).mp3') }}" type="audio/mpeg">
</audio>

<script>
window.addEventListener('click', () => {
  document.getElementById('a').play().catch(e => console.error(e));
}, {once:true});
</script>


    <div id="window" class="window" style="left: 100px; top: 150px;">
        <div class="window-header" onmousedown="startDrag(event,'window')">
            <span class="window-title">terminal</span>
            <div class="window-controls">
                <div class="window-control close-btn" onclick="closeWindow('window')">x</div>
            </div>
        </div>
        <div class="window-content">
            {% for i in history %}
            <p>{{ i|safe }}</p>
            {% endfor %}
            <form method="POST">
                <div class="input">> <input type="text" name="inp"></div><button type="submit"
                    style="display: none;"></button>
            </form>
        </div>
    </div>

    <div id="fileExplorer" class="window" style="left: 100px; top: 150px;">
        <div class="window-header" onmousedown="startDrag(event,'fileExplorer')">
            <span class="window-title">file manager</span>
            <div class="window-controls">
                <div class="window-control close-btn" onclick="closeWindow('fileExplorer')">x</div>
            </div>
        </div>
        <div class="window-content">
            {% include 'explorer.html' %}
        </div>
    </div>

    <div id="ticTacToe" class="window">
        <div class="window-header" onmousedown="startDrag(event, 'ticTacToe')">
            <span>TICTACTOE.EXE - Running...</span>
            <button onclick="closeWindow('ticTacToe')" class="close-btn">√ó</button>
        </div>

        <div class="window-content">
            <div class="game-container">
                <div class="status" id="tttStatus">Your Turn</div>
                <div class="board" id="tttBoard"></div>
                <button class="reset-btn" id="tttResetBtn">NEW GAME</button>
            </div>
        </div>
    </div>

    <div id="textViewer" class="window">
    <div class="window-header" onmousedown="startDrag(event, 'textViewer')">
        <span id="textViewerTitle">Text Viewer</span>
        <button onclick="closeWindow('textViewer')" class="close-btn">√ó</button>
    </div>


    <div id="slotsGame" class="window">
    <div class="window-header" onmousedown="startDrag(event, 'slotsGame')">
        <span>SLOTS.EXE - $$$ JACKPOT $$$</span>
        <button onclick="closeWindow('slotsGame')" class="close-btn">√ó</button>
    </div>

    <!-- GAMBLING AHAHAHAHHA-->

    <div class="window-content">
        <div style="text-align: center; padding: 20px; font-family: 'Courier New', monospace;">
            <h2 style="color: #0f0;">üé∞ LUCKY SLOTS üé∞</h2>
            <div style="font-size: 48px; margin: 20px 0;">
                <span id="slot1">üçí</span>
                <span id="slot2">üçã</span>
                <span id="slot3">üçä</span>
            </div>
            <div style="margin: 20px 0; font-size: 18px;">
                <div id="slotsResult">Press SPIN to play!</div>
                <div style="margin-top: 10px;">Wins: <span id="slotsWins">0</span></div>
            </div>
            <button onclick="spinSlots()" style="padding: 15px 40px; font-size: 18px; background: #0f0; color: #000; border: none; cursor: pointer; font-weight: bold;">SPIN</button>
        </div>
    </div>
    </div>

    <div class="window-content">
        <pre id="textViewerContent" style="white-space: pre-wrap; font-family: 'Courier New', monospace;"></pre>
    </div>
</div>
    <script src="{{ url_for('static', filename='windows.js') }}"></script>
    <script src="{{ url_for('static', filename='explorer.js') }}"></script>

</body>


</html>